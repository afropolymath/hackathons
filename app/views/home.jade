include ../shared/layout
.overlay
    .content.comp.row
        h1 WHAT?
        p.col.s12.m10.l8

            | {{competition.details.what.description}}
        .row.clear
          .row
            .col.s12.m3
              .card.blue-grey.darken-1
                .card-content.white-text
                  span.card-title HOW?
                  p
                    | {{competition.details.when.startDate}}
                    | -
                    | {{competition.details.when.endDate}}
            .col.s12.m3
              .card.blue-grey.darken-1
                .card-content.white-text
                  span.card-title WHEN?
                  p
                    | Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    | tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            .col.s12.m3
              .card.blue-grey.darken-1
                .card-content.white-text
                  span.card-title WHO?
                  p
                    | {{competition.details.who.description}}

    .content.teams.row
        h1 TEAMS
        .row
          .col.s12.l3.m6(ng-repeat='(team_id, team) in competition.teams')
            .card.team-card.trans
              .waves-effect.waves-block.waves-light
                .team-list
                  ul.team-member(ng-repeat='member in team.members')
                    a(href='www.google.com')
                      li.collection-item.avatar
                        img.circle(ng-src='{{member.picture}}')
                        span.title {{member.name}}
                    .col.s2
                      i.mdi-action-done
                      i.mdi-action-highlight-remove
              .card-content
                span.card-title.activator.grey-text.text-darken-4
                  | {{team.name}}
                  i.mdi-navigation-more-vert.right
              .card-reveal
                span.card-title.grey-text.text-darken-4
                  | {{team.name}}
                  i.mdi-navigation-close.right
                p
                  | {{team.description}}
                .card-action.right-align
                  a(href='#' ng-click='joinTeam(team_id)')
                    i.mdi-social-person-add
                  a(href='#' ng-click='registerTeam(team_id)')
                    i.mdi-content-send

        a.btn-floating.btn-large.waves-effect.waves-light.red.modal-trigger(href='#create-team-modal')
            i.mdi-content-add
include modals/create-team


script(type='text/javascript').
  $(function() {
    $('.modal-trigger').leanModal();
    $('.teams-link').on('click', function() {
      $('.overlay').scrollTo('.content.teams', 800);
    });
    $('.comp-details').on('click', function() {
      $('.overlay').scrollTo('.content.comp', 800);
    });
  });
